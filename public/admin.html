<!DOCTYPE html>
<html lang="">
<meta charset="UTF-8">
<title></title>
<meta name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
<script src="dist/js/villa.min.js"></script>
<link rel="stylesheet" href="dist/css/villa.min.css"/>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="dist/css/material-colors.css"/>
<link rel="stylesheet" type="text/css" href="dist/css/villa-cross.min.css"/>
<script src="dist/js/html5shiv.js"></script>
<script src="dist/js/html5shiv-printshiv.js"></script>
<script src="dist/js/classList.min.js"></script>
<![endif]-->

<body>

<h1>addCandidates()</h1>
<p>Adiciona candidatos</p>
<h1>addMatch()</h1>
<p>Adiciona uma disputa (votação) baseado nos candidatos criados</p>
<h1>setCurrent()</h1>
<p>Define a disputa padrão baseado na disputa criada</p>

<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>

<script>

	// Initialize Firebase
	var config = {
		apiKey: "AIzaSyAPBMowmgiW0V1H3FDlJ6GBLQHDq7RX3kg",
		authDomain: "ufs-app.firebaseapp.com",
		databaseURL: "https://ufs-app.firebaseio.com",
		storageBucket: "ufs-app.appspot.com"
	};

	firebase.initializeApp(config);

</script>

<script>

	var rootRef = firebase.database();

	var candidatesRef = rootRef.ref('candidates');
	var matchesRef = rootRef.ref('matches');
	var currentRef = rootRef.ref('current');

	var candidates = false;
	var match = false;

	function addCandidates() {

		candidates = [];

		candidatesRef.set(false);

		candidates.push(candidatesRef.push({
			name: 'André & Leandro',
			photo: ''
		}).key);

		candidates.push(candidatesRef.push({
			name: 'João Lucas & Donizett',
			photo: ''
		}).key);

		console.log(candidates);

	}

	function addMatch() {

		matchesRef.set(false);

		match = matchesRef.push({
			isActive: true,
			candidates: candidates
		}).key;

		console.log(match);

	}

	function setCurrent() {

		currentRef.set(match);

	}

</script>

</body>

</html>